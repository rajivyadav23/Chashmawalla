// Sidebar css

.sidebar {
	&::-webkit-scrollbar {
		width: 0;
	}
	.widget {
		padding-top: 2.6rem;
		color: $light-text;
		margin: 0;
		line-height: 1.7;
		&:first-of-type {
			padding-top: 0;
		}
		&:not(:first-of-type) {
			border-top: 1px solid #ebebeb;
		}
		> *:last-of-type {
			margin-bottom: 2.6rem;
		}

		&:not(:last-child).widget_price_filter form {
			margin-bottom: 4.2rem;
		}
		
		.widget-title {
			margin-#{$left}: 0 !important;
			letter-spacing: 1px;
			line-height: 1;
		}
	}

	.custom-control {
		padding-#{$left}: 2.7rem;
		margin: 0;
	}

	.yith-woo-ajax-reset-navigation {
		display: flex !important;
		align-items: center;
		justify-content: space-between;

		> * {
			padding-top: 2px;
		}

		label {
			color: inherit;
			font-weight: 400;
			font-size: 1.4rem;
			letter-spacing: -.01em;
			margin: 0;
		}
	}
	.searchform {
		padding-#{$right}: 1.6rem;
		.form-control {
			flex: 1 1 auto;
		}

		.live-search .form-control {
			width: 100%;
		}
	}
}

.sidebar-toggle {
	position: fixed;
	#{$left}: -350px;
	top: 0;
	bottom: 0;
	z-index: 1070;
	background-color: #fff;
	overflow-y: scroll;
	width: 100%;
	max-width: 350px;
	box-shadow: 1px 0 .6rem 0 rgba(51, 51, 51, 0.5);
	will-change: transform;
	visibility: hidden;
	transition: 0.35s;
	padding: 0;

	.right-sidebar & {
		#{$left}: auto;
		#{$right}: -350px;
	}

	.widget {
		padding-#{$left}: 1rem;
		padding-#{$right}: 1rem;

		&:last-child {
			border-bottom: none;
		}
	}

	.yith-woo-ajax-reset-navigation {
		color: $dark-text;
		text-transform: uppercase;
		font-weight: 400;
		font-size: 1.4rem;
		line-height: 1.5;
		letter-spacing: -.01em;

		i {
			font-size: 1.6rem;
			line-height: 1;
			margin-#{$right}:1rem;
		}

		.yith-wcan-reset-navigation {
			text-transform: capitalize;
			font-size: 1.4rem;
		}
	}

	.widget.yith-woo-ajax-reset-navigation > * {
		margin: 0;
	}

	.filter-close {
		color: $dark-text;
	}

	.label-filter:hover,
	.label-filter:focus {
		cursor: pointer;
	}
}

.sidebar-content {
	position: relative;
	padding: 3.5rem 2.7rem 1.5rem;
}

.shop-sidebar {
	.widget_layered_nav {
		li {
			&.chosen a:before,
			&.current-cat a:before {
				display: none;
			}

			&.chosen a span:first-child,
			&.current-cat a span:first-child {
				&:before {
					color: #fff;
					border-color: #333;
					background-color: #333;
				}
				&:after {
					content: '\ec2d';
					background-image: none;
					opacity: 1;
					visibility: visible;
				}
			}

			&:hover a span.custom:first-child:after {
				background-image: none;
				opacity: 1;
				visibility: visible;
			}


			a {
				display: flex;
				align-items: center;
			}

			a span:first-child {
				position: relative;
				margin-bottom: 0;
				font-size: 1.4rem;
				padding-#{$left}: 1.6rem;
				display: inline-block;

				&:before,
				&:after {
					content: '';
					position: absolute;
					display: block;
					top: 50%;
					transform: translateY(-50%);
				}

				&:after {
					font-family: 'molla';
					display: flex;
					align-items: center;
					justify-content: center;
					color: #fff;
					background-image: none;
					font-size: 1rem;
					line-height: 1.1;
					text-align: center;
					#{$left}: 0;
					width: 1.6rem;
					height: 1.6rem;
					opacity: 0;
					visibility: hidden;
					transition: opacity .3s, visibility .3s;
				}

				&:before {
					#{$left}: 0;
					width: 1.6rem;
					height: 1.6rem;
					background-color: #f9f9f9;
					border: 1px solid #dadada;
					box-shadow: none !important;
					border-radius: .2rem;
				}

				&.custom {

					&:before,
					&:after {
						border-radius: 50%;
					}
				}

				&.custom:before {
					background-color: inherit;
					border: inherit;
				}
				&.custom:after {
					border: inherit;
					width: 2rem;
					height: 2rem;
					#{$left}: 50%;
					transform: translate(-50%, -50%);
					box-shadow: 0 0 0 0.1rem #cccccc;
				}
			}

			.label {
				padding-#{$left}: 1rem;
			}
		}
	}

	.price_slider_wrapper {

		.ui-slider-handle:first-of-type .noUi-tooltip {
			#{$left}: 0;
			transform: none;
		}
		.ui-slider-handle:last-of-type .noUi-tooltip {
			#{$right}: 0;
			#{$left}: auto;
			transform: none;
		}
	}

	.widget form {
		padding-#{$right}: 1.6rem;
	}
}

.sidebar-toggler:not(.filter-btn) {
	position: fixed;
	top: 160px;
	#{$left}: 0;
	width: 30px;
	height: 40px;
	border-radius: 0;
	font-size: 1.4rem;
	text-align: center;
	color: #fff;
	background-color: rgba(28,26,26,0.8);
	padding: 0;
	visibility: visible;
	z-index: 1049;
	transition: left .35s, right .35s;

	.right-sidebar & {
		#{$left}: auto;
		#{$right}: 0;

		i:before {
			content: if-ltr("\f053", "\f054");
		}
	}

	i {
		line-height: 40px;
	}
}

.top-sidebar {
	.sidebar-wrapper .col-lg-9 {
		flex: 0 0 100% !important;
		max-width: 100% !important;
	}

	.toolbox {
		margin-bottom: 2rem;
	}

	.toolbox .toolbox-right {
		flex: 1;
	}

	.widget.widget_layered_nav {
		ul li a span:before,
		ul li a span:after {
			border-radius: 0;
		}
	}
}

@include mq('lg') {
	.sidebar:not(.sidebar-toggle) .sidebar-content {
		padding: 0;
	}

	.sticky-sidebar + .sidebar-filter-overlay,
	.sidebar-toggler:not(.filter-btn) {
		display: none;
	}

	.top-sidebar .sidebar {
		position: static !important;
		width: 100% !important;

		.sidebar-content {
			display: flex;
		}

		.sidebar-content > * {
			position: relative;
			padding-bottom: 3rem;
			border-bottom: none;
			&:before {
				content: '';
				top: 0;
				position: absolute;
				height: 1px;
				background-color: #ebebeb;
			}
		}

		.widget {
			border: none;
			
			form {
				padding-#{$right}: 0;
			}
		}

		.widget-title {
			font-weight: 300;
			font-size: 1.6rem;

			&:after {
				display: none;
			}
		}

		.yith-woo-ajax-reset-navigation {
			position: absolute;
			top: -5rem;
			padding: 0;
			&:before {
				display: none;
			}
			label {
				display: none;
			}
			.yith-wcan {
				padding: 0;
			}
			.yith-wcan-reset-navigation {
				font-size: 1.6rem;
				font-weight: 300;
			}
		}

		li a {
			font-weight: 300;
			letter-spacing: 0;
			color: #666;
		}
	}

	body .top-sidebar aside {
		display: none;
	}

	.top-sidebar .sidebar-wrapper > aside.col-lg-3 {
		flex: 0 0 100% !important;
		max-width: 100% !important;

		.pin-wrapper {
			height: auto !important;
		}

		.sidebar-content > div {
			flex: 1;
		}
	}
	.sidebar-overlay {
		display: none;
	}

	.toggle-sidebar .sidebar-overlay {
		display: block;
	}
}

.sidebar-active {
	.sidebar-overlay {
		visibility: visible;
		opacity: 1;
	}
	.sidebar-toggle {
		visibility: visible;
		#{$left}: 0 !important;
	}
	.right-sidebar .sidebar-toggle {
		#{$left}: auto !important;
		#{$right}: 0 !important;
	}
}

@include mq('xl') {
	.container-fluid .sidebar-wrapper > .col-lg-9 {
		flex: 0 0 80%;
		max-width: 80%;
	}
	.container-fluid .sidebar-wrapper > .col-lg-3 {
		flex: 0 0 20%;
		max-width: 20%;
	}
}

@include mq('lg') {
	.right-sidebar .sidebar {
		padding-#{$left}: 1rem;
	}
}

@include mq('lg', 'max') {
	.top-sidebar aside {
		display: block !important;
	}
	.sidebar-wrapper .sidebar {
		position: fixed;
	}
	.sidebar {
		#{$left}: -280px;
		max-width: 280px;
	}
	.right-sidebar .sidebar {
		#{$left}: auto;
		#{$right}: -280px;
	}
	.sidebar + div {
		display: none !important;
	}
	.custom-sidebar,
	.sidebar-content {
		position: relative;
		padding-right: 1.5rem;
		padding-left: 1.5rem;
	}
	.custom-sidebar {
		padding-top: 3.5rem;
	}
}
